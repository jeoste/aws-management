<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AWS // MANAGEMENT | Enterprise Cloud Infrastructure</title>
<link rel="icon" href="{{ url_for('static', filename='favicon.svg') }}" type="image/svg+xml">
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- GSAP & Lenis -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>
<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>
<!-- Mermaid for diagrams -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
tailwind.config = {
    theme: {
        extend: {
            colors: {
                accent: '#FF9900', /* AWS Orange style */
                surface: '#0F0F0F',
                subtle: '#2a2a2a'
            },
            fontFamily: {
                sans: ['Inter', 'sans-serif'],
                display: ['Space Grotesk', 'sans-serif'],
                mono: ['JetBrains Mono', 'monospace'],
            },
            animation: {
                'spin-slow': 'spin 15s linear infinite',
                'reverse-spin': 'spin 20s linear infinite reverse',
                'marquee': 'marquee 30s linear infinite',
                'scan': 'scan 4s linear infinite',
                'blink': 'blink 2s ease-in-out infinite',
                'dash': 'dash 20s linear infinite',
                'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                'slide-in': 'slide-in 0.3s ease-out',
            },
            keyframes: {
                marquee: {
                    '0%': { transform: 'translateX(0)' },
                    '100%': { transform: 'translateX(-33.333%)' },
                },
                scan: {
                    '0%': { top: '-20%' },
                    '100%': { top: '120%' },
                },
                blink: {
                    '0%, 100%': { opacity: 1 },
                    '50%': { opacity: 0.3 },
                },
                dash: {
                    to: { 'stroke-dashoffset': '1000' }
                },
                'slide-in': {
                    '0%': { transform: 'translateX(100%)', opacity: '0' },
                    '100%': { transform: 'translateX(0)', opacity: '1' }
                },
                'slide-out': {
                    '0%': { transform: 'translateX(0)', opacity: '1' },
                    '100%': { transform: 'translateX(100%)', opacity: '0' }
                }
            }
        }
    }
}
</script>
<style>
/* --- THEME VARIABLES --- */
:root {
    --bg-primary: #050505;
    --bg-secondary: #0a0a0a;
    --bg-tertiary: #080808;
    --bg-glass: rgba(10, 10, 10, 0.8);
    --text-primary: #e0e0e0;
    --text-secondary: #9b9b9b;
    --border-color: rgba(255, 255, 255, 0.08);
    --accent: #FF9900;
}

[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --bg-tertiary: #fafafa;
    --bg-glass: rgba(255, 255, 255, 0.9);
    --text-primary: #0a0a0a;
    --text-secondary: #4a4a4a;
    --border-color: rgba(0, 0, 0, 0.1);
    --accent: #FF9900;
}

[data-theme="light"] .theme-toggle-btn {
    border-color: rgba(0, 0, 0, 0.2);
    color: #0a0a0a;
}

[data-theme="light"] .theme-toggle-btn:hover {
    background: #0a0a0a;
    color: #ffffff;
}

[data-theme="light"] #theme-icon-sun {
    display: none;
}

[data-theme="light"] #theme-icon-moon {
    display: block;
}

.theme-bg-primary {
    background-color: var(--bg-primary);
}

.theme-bg-gradient {
    background: linear-gradient(to top right, var(--bg-primary), var(--bg-secondary), var(--bg-tertiary));
}

[data-theme="dark"] .theme-bg-gradient .absolute {
    background: linear-gradient(to top right, #050505, #0a0a0a, #151515);
}

[data-theme="light"] .theme-bg-gradient .absolute {
    background: linear-gradient(to top right, #ffffff, #f5f5f5, #fafafa);
}

.theme-nav {
    border-color: var(--border-color);
    background: var(--bg-glass);
}

[data-theme="dark"] .theme-nav {
    border-color: rgba(255, 255, 255, 0.05);
    background: rgba(5, 5, 5, 0.8);
}

[data-theme="light"] .theme-nav {
    border-color: rgba(0, 0, 0, 0.1);
    background: rgba(255, 255, 255, 0.8);
}

.theme-marquee {
    border-color: var(--border-color);
    background-color: var(--bg-tertiary);
}

.theme-section {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
}

.theme-footer {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

[data-theme="dark"] .theme-footer {
    background-color: #020202;
}

[data-theme="light"] .theme-footer {
    background-color: #f5f5f5;
}

.theme-dropdown {
    border-color: var(--border-color);
    background-color: var(--bg-secondary);
}

.theme-dropdown-item {
    color: var(--text-primary);
}

.theme-dropdown-item:hover {
    background-color: var(--border-color);
}

[data-theme="dark"] .theme-dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

[data-theme="light"] .theme-dropdown-item:hover {
    background-color: rgba(0, 0, 0, 0.1);
}

/* --- CORE SETTINGS --- */
html {
    background-color: var(--bg-primary);
    transition: background-color 0.3s ease;
}
body {
    margin: 0; padding: 0;
    background-color: transparent;
    color: var(--text-primary);
    overflow-x: hidden;
    cursor: auto;
    transition: color 0.3s ease;
}
/* --- UTILS --- */
.glass-panel {
    background: var(--bg-glass);
    backdrop-filter: blur(12px);
    border: 1px solid var(--border-color);
    position: relative;
    overflow: hidden;
    transition: background 0.3s ease, border-color 0.3s ease;
}
/* Spotlight Effect */
.spotlight-card::before {
    content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    border-radius: inherit;
    background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.04), transparent 40%);
    z-index: 2; opacity: 0; transition: opacity 0.5s; pointer-events: none;
}
.spotlight-card:hover::before { opacity: 1; }
.spotlight-card::after {
    content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    border-radius: inherit; padding: 1px;
    background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(255, 153, 0, 0.3), transparent 40%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    z-index: 3; opacity: 0; transition: opacity 0.5s; pointer-events: none;
}
.spotlight-card:hover::after { opacity: 1; }

.marquee-mask {
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}
.scan-line {
    position: absolute; left: 0; width: 100%; height: 50px;
    background: linear-gradient(to bottom, transparent, rgba(255, 153, 0, 0.3), transparent);
    opacity: 0.5; animation: scan 3s linear infinite; z-index: 10; pointer-events: none;
}
.noise-overlay {
    position: fixed; inset: 0; z-index: 9000; pointer-events: none; opacity: 0.04;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}
.btn-magnetic { display: inline-block; }
.dot-grid {
    background-image: radial-gradient(rgba(255,255,255,0.15) 1px, transparent 1px);
    background-size: 20px 20px;
}
.skew-target { will-change: transform; }

/* Custom UI Elements */
.custom-checkbox input:checked + div {
    background-color: #FF9900;
    border-color: #FF9900;
}
.custom-checkbox input:checked + div svg {
    display: block;
}
.custom-toggle input:checked + div {
    background-color: #FF9900;
}
.custom-toggle input:checked + div span {
    transform: translateX(100%);
}

/* Modal */
.modal-overlay {
    position: fixed; inset: 0; z-index: 100;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
    display: none; align-items: center; justify-content: center;
    transition: background 0.3s ease;
}
[data-theme="light"] .modal-overlay {
    background: rgba(0, 0, 0, 0.5);
}
.modal-overlay.active { display: flex; }
.modal-content {
    background: var(--bg-glass);
    backdrop-filter: blur(20px);
    border: 1px solid var(--border-color);
    border-radius: 1rem;
    padding: 2rem;
    max-width: 500px; width: 90%;
    max-height: 90vh; overflow-y: auto;
    transition: background 0.3s ease, border-color 0.3s ease;
}

/* Status indicator */
.status-bar {
    position: fixed; bottom: 0; left: 0; right: 0;
    z-index: 40; background: var(--bg-glass);
    backdrop-filter: blur(8px);
    border-top: 1px solid var(--border-color);
    padding: 0.5rem 1.5rem;
    font-size: 0.75rem;
    display: flex; align-items: center; gap: 0.5rem;
    transition: background 0.3s ease, border-color 0.3s ease;
}
</style>
</head>
<body class="antialiased selection:bg-accent selection:text-black">

    <!-- GLOBAL BACKDROP -->
    <div class="theme-bg-primary fixed inset-0 -z-50 transition-colors duration-300"></div>

    <!-- 3D BACKGROUND -->
    <div class="aura-background-component fixed top-0 w-full h-screen -z-10 opacity-60 theme-bg-gradient" data-alpha-mask="80" style="mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent); -webkit-mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent)">
        <div class="absolute inset-0 transition-colors duration-300"></div>
        <div class="absolute top-[-20%] right-[-10%] w-[800px] h-[800px] bg-accent/10 rounded-full blur-[120px] mix-blend-screen"></div>
        <div class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-900/10 rounded-full blur-[100px] mix-blend-screen"></div>
    </div>

    <!-- NOISE LAYER -->
    <div class="noise-overlay"></div>
    
    <!-- NAVIGATION -->
    <nav class="theme-nav fixed top-0 w-full z-50 border-b backdrop-blur-md transition-colors duration-300">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            <a href="#" class="group hover-trigger">
                <span class="font-display font-semibold text-xl tracking-tighter text-white group-hover:text-accent transition-colors">AWS<span class="text-accent group-hover:text-white transition-colors">//</span>MNGT</span>
            </a>
            <div class="hidden md:flex gap-8 text-xs font-mono tracking-widest text-gray-400">
                <a href="#dashboard" class="hover:text-white transition-colors hover-trigger">[01] QUEUES</a>
                <a href="#topics" class="hover:text-white transition-colors hover-trigger">[02] TOPICS</a>
                <a href="#pipeline" class="hover:text-white transition-colors hover-trigger">[03] PIPELINE</a>
                <a href="#realtime" class="hover:text-white transition-colors hover-trigger">[04] MONITOR</a>
            </div>
            <div class="flex items-center gap-4">
                <button id="theme-toggle" onclick="toggleTheme()" class="theme-toggle-btn border border-white/20 px-3 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white hover:text-black transition-all hover-trigger btn-magnetic" title="Toggle theme">
                    <i data-lucide="sun" id="theme-icon-sun" class="w-4 h-4"></i>
                    <i data-lucide="moon" id="theme-icon-moon" class="w-4 h-4 hidden"></i>
                </button>
                <span id="region-indicator" class="hidden lg:flex text-[10px] font-mono text-green-500 items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                    REGION: <span id="region-value">-</span>
                </span>
                <div class="dropdown relative group">
                    <button class="border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white hover:text-black transition-all hover-trigger btn-magnetic">
                        Export
                    </button>
                    <div class="theme-dropdown absolute right-0 mt-2 w-48 rounded-md border p-1 shadow-lg hidden group-hover:block z-50 transition-colors duration-300">
                        <button onclick="exportData('json')" class="theme-dropdown-item w-full text-left px-3 py-2 text-xs rounded transition-colors">JSON</button>
                        <button onclick="exportData('sql')" class="theme-dropdown-item w-full text-left px-3 py-2 text-xs rounded transition-colors">SQL</button>
                        <button onclick="exportData('drawio')" class="theme-dropdown-item w-full text-left px-3 py-2 text-xs rounded transition-colors">Draw.io</button>
                        <button onclick="exportData('mermaid')" class="theme-dropdown-item w-full text-left px-3 py-2 text-xs rounded transition-colors">Mermaid</button>
                        <button onclick="exportData('canvas')" class="theme-dropdown-item w-full text-left px-3 py-2 text-xs rounded transition-colors">JSON Canvas</button>
                    </div>
                </div>
                <button id="console-access-btn" class="border border-white/20 px-6 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white hover:text-black transition-all hover-trigger btn-magnetic">
                    Console Access
                </button>
            </div>
        </div>
    </nav>

    <!-- STATUS BAR -->
    <div id="status-bar" class="status-bar">
        <div class="h-2 w-2 rounded-full bg-green-500"></div>
        <span id="status-text">Ready</span>
    </div>

    <!-- CREDENTIALS MODAL -->
    <div id="credentials-modal" class="modal-overlay">
        <div class="modal-content spotlight-card">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-display font-semibold text-xl text-white">AWS Credentials</h3>
                <button onclick="closeCredentialsModal()" class="text-gray-400 hover:text-white transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="text-xs font-mono text-gray-400 uppercase tracking-wider block mb-2">Profile</label>
                    <input type="text" id="profile" placeholder="default" class="w-full bg-white/5 border border-white/10 px-4 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent transition-colors">
                </div>
                <div>
                    <label class="text-xs font-mono text-gray-400 uppercase tracking-wider block mb-2">Access Key ID</label>
                    <input type="text" id="access_key" placeholder="AWS_ACCESS_KEY_ID" class="w-full bg-white/5 border border-white/10 px-4 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent transition-colors">
                </div>
                <div>
                    <label class="text-xs font-mono text-gray-400 uppercase tracking-wider block mb-2">Secret Access Key</label>
                    <input type="password" id="secret_key" placeholder="AWS_SECRET_ACCESS_KEY" class="w-full bg-white/5 border border-white/10 px-4 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent transition-colors">
                </div>
                <div>
                    <label class="text-xs font-mono text-gray-400 uppercase tracking-wider block mb-2">Session Token</label>
                    <input type="password" id="session_token" placeholder="Optional" class="w-full bg-white/5 border border-white/10 px-4 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent transition-colors">
                </div>
                <div>
                    <label class="text-xs font-mono text-gray-400 uppercase tracking-wider block mb-2">Region(s)</label>
                    <input type="text" id="regions" placeholder="eu-central-1,us-east-1" class="w-full bg-white/5 border border-white/10 px-4 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent transition-colors">
                </div>
                <div class="flex items-center gap-2">
                    <input type="checkbox" id="remember" class="w-4 h-4 rounded border-white/20 bg-white/5 text-accent focus:ring-accent">
                    <label for="remember" class="text-xs text-gray-400">Remember credentials</label>
                </div>
                <div class="flex gap-3 pt-4">
                    <button id="test-conn-btn" class="flex-1 border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white/10 transition-all">
                        Test Connection
                    </button>
                    <button id="scan-btn" class="flex-1 bg-accent text-black px-4 py-2 text-xs font-semibold uppercase tracking-wider hover:bg-white transition-all">
                        Scan Resources
                    </button>
                </div>
            </div>
        </div>
    </div>

    <main>
        <!-- HERO SECTION -->
        <section class="skew-target relative h-screen w-full flex flex-col justify-center items-center overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-[#050505] z-10 pointer-events-none"></div>
            
            <div class="relative z-20 text-center max-w-5xl px-6">
                <div class="inline-flex items-center gap-3 border border-white/10 bg-white/5 px-4 py-1.5 rounded-full mb-8 backdrop-blur-sm">
                    <span class="font-mono text-[10px] text-accent tracking-widest uppercase">v2.5.0 Production Ready</span>
                </div>
                <h1 class="font-display font-semibold text-6xl md:text-9xl tracking-tight mb-6 leading-[0.9] text-white mix-blend-screen scramble-text">
                    CLOUD <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-white via-gray-400 to-gray-600">ORCHESTRATION</span>
                </h1>
                <p class="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed mb-10 font-light">
                    Unified control plane for asynchronous messaging. <br>
                    Manage SQS queues and SNS topics with zero latency visibility.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <button onclick="openCredentialsModal()" class="bg-accent text-black px-8 py-4 font-semibold text-sm uppercase tracking-widest hover:bg-white transition-all hover-trigger w-full sm:w-auto btn-magnetic">
                        Launch Instance
                    </button>
                    <button onclick="document.getElementById('dashboard').scrollIntoView({behavior: 'smooth'})" class="px-8 py-4 border border-white/20 text-white font-semibold text-sm uppercase tracking-widest hover:bg-white/10 transition-all hover-trigger w-full sm:w-auto btn-magnetic">
                        View Dashboard
                    </button>
                </div>
            </div>
        </section>

        <!-- MARQUEE -->
        <div class="theme-marquee border-y py-8 relative z-20 overflow-hidden marquee-mask w-full transition-colors duration-300">
            <div class="flex whitespace-nowrap animate-marquee w-[max-content]">
                <div class="flex gap-20 px-10 items-center">
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="layers" class="w-5 h-5"></i> SQS_STANDARD</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="radio" class="w-5 h-5"></i> SNS_TOPICS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="zap" class="w-5 h-5"></i> LAMBDA_TRIGGERS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="activity" class="w-5 h-5"></i> KINESIS_STREAMS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="database" class="w-5 h-5"></i> DYNAMODB</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="shield" class="w-5 h-5"></i> IAM_ROLES</span>
                </div>
                <div class="flex gap-20 px-10 items-center">
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="layers" class="w-5 h-5"></i> SQS_STANDARD</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="radio" class="w-5 h-5"></i> SNS_TOPICS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="zap" class="w-5 h-5"></i> LAMBDA_TRIGGERS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="activity" class="w-5 h-5"></i> KINESIS_STREAMS</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="database" class="w-5 h-5"></i> DYNAMODB</span>
                    <span class="font-display font-semibold text-2xl text-white/30 hover:text-white transition-colors flex items-center gap-2"><i data-lucide="shield" class="w-5 h-5"></i> IAM_ROLES</span>
                </div>
            </div>
        </div>

        <!-- DASHBOARD SECTION -->
        <section id="dashboard" class="skew-target py-32 px-6 relative z-20">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-end mb-16 border-b border-white/10 pb-8">
                    <div>
                        <span class="text-accent font-mono text-xs tracking-widest block mb-2">/// INFRASTRUCTURE HEALTH</span>
                        <h2 class="font-display font-semibold text-white text-4xl md:text-5xl scramble-text">Live Statistics</h2>
                    </div>
                    <div class="text-right flex flex-col gap-4 mt-4 md:mt-0">
                        <div class="flex gap-3">
                            <button id="stats-btn" class="border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white/10 transition-all">
                                Fetch Stats
                            </button>
                        </div>
                        <p class="text-gray-500 font-mono text-xs uppercase tracking-widest">
                            Queues: <span id="count-queues">0</span> | Topics: <span id="count-topics">0</span> | Subs: <span id="count-links">0</span>
                        </p>
                    </div>
                </div>

                <!-- Statistics Grid -->
                <div id="dashboard-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Placeholder cards will be populated by JavaScript -->
                    <div class="glass-panel spotlight-card rounded-xl p-6 text-center">
                        <div class="text-gray-400 text-sm mb-2">Scan resources to view statistics</div>
                    </div>
                </div>

                <!-- Queues List -->
                <div class="mt-16">
                    <h3 class="font-display font-semibold text-2xl text-white mb-6">Queues</h3>
                    <div id="queues-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Queues will be populated here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- TOPICS SECTION -->
        <section id="topics" class="skew-target py-32 px-6 theme-section border-t relative z-20 transition-colors duration-300">
            <div class="max-w-7xl mx-auto">
                <div class="mb-16">
                    <span class="text-accent font-mono text-xs tracking-widest block mb-2">/// SNS TOPICS</span>
                    <h2 class="font-display font-semibold text-white text-4xl md:text-5xl scramble-text mb-6">Topics</h2>
                </div>
                <div id="topics-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Topics will be populated here -->
                </div>
            </div>
        </section>

        <!-- PIPELINE SECTION -->
        <section id="pipeline" class="py-24 theme-section relative z-20 border-t transition-colors duration-300">
            <div class="max-w-[1400px] mx-auto px-6">
                <div class="mb-16">
                    <span class="text-accent font-mono text-xs tracking-widest block mb-2">/// MESSAGE LIFECYCLE</span>
                    <h2 class="font-display font-semibold text-white text-4xl md:text-5xl scramble-text mb-6">Pipeline Visualization</h2>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Left: Selection -->
                    <div class="lg:col-span-1">
                        <div class="glass-panel spotlight-card rounded-xl p-6 sticky top-24">
                            <h3 class="font-display font-semibold text-white mb-6">Select Resources</h3>
                            
                            <div class="mb-6">
                                <h4 class="text-xs font-mono text-gray-400 uppercase tracking-wider mb-3">Topics</h4>
                                <div class="flex gap-2 mb-2">
                                    <button onclick="selectAllDiagramTopics()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">All</button>
                                    <button onclick="deselectAllDiagramTopics()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">None</button>
                                </div>
                                <div id="diagram-topic-list" class="overflow-auto rounded border border-white/10 p-3 bg-black/30 max-h-64">
                                    <div class="text-xs text-gray-500">Scan resources first</div>
                                </div>
                            </div>

                            <div>
                                <h4 class="text-xs font-mono text-gray-400 uppercase tracking-wider mb-3">Queues</h4>
                                <div class="flex gap-2 mb-2">
                                    <button onclick="selectAllDiagramQueues()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">All</button>
                                    <button onclick="deselectAllDiagramQueues()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">None</button>
                                </div>
                                <div id="diagram-queue-list" class="overflow-auto rounded border border-white/10 p-3 bg-black/30 max-h-64">
                                    <div class="text-xs text-gray-500">Scan resources first</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Diagram -->
                    <div class="lg:col-span-2">
                        <div class="glass-panel spotlight-card rounded-xl p-8 min-h-[600px]">
                            <div id="mermaid-graph" class="mermaid">
                                graph TD;
                                A[Select resources to view diagram] --> B[Diagram will appear here];
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- REAL-TIME MONITORING SECTION -->
        <section id="realtime" class="skew-target py-32 px-6 theme-section border-t relative z-20 transition-colors duration-300">
            <div class="max-w-7xl mx-auto">
                <div class="mb-16">
                    <span class="text-accent font-mono text-xs tracking-widest block mb-2">/// LIVE MONITORING</span>
                    <h2 class="font-display font-semibold text-white text-4xl md:text-5xl scramble-text mb-6">Real-time Monitoring</h2>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Left: Queue Selection -->
                    <div class="lg:col-span-1">
                        <div class="glass-panel spotlight-card rounded-xl p-6">
                            <h3 class="font-display font-semibold text-white mb-4">Queues to Monitor</h3>
                            <div class="mb-4">
                                <input id="realtime-queue-filter" oninput="filterQueues()" placeholder="Filter queues..." class="w-full bg-white/5 border border-white/10 px-3 py-2 rounded text-sm text-white placeholder:text-gray-500 focus:outline-none focus:border-accent mb-2">
                                <div class="flex gap-2 mb-2">
                                    <button onclick="selectAllQueues()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">All</button>
                                    <button onclick="deselectAllQueues()" class="text-xs px-2 py-1 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition-colors">None</button>
                                </div>
                                <div id="realtime-queue-list" class="overflow-auto rounded border border-white/10 p-3 bg-black/30 max-h-96">
                                    <div class="text-xs text-gray-500">Scan resources first</div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button id="realtime-toggle" onclick="toggleRealtime()" class="flex-1 bg-accent text-black px-4 py-2 text-xs font-semibold uppercase tracking-wider hover:bg-white transition-all">
                                    <i data-lucide="play" class="w-4 h-4 inline mr-2"></i>
                                    <span id="realtime-status">Start Monitoring</span>
                                </button>
                                <button onclick="clearRealtimeLog()" class="border border-white/20 px-4 py-2 text-xs font-semibold uppercase tracking-wider text-white hover:bg-white/10 transition-all">
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Live Events -->
                    <div class="lg:col-span-2">
                        <div class="glass-panel spotlight-card rounded-xl p-6">
                            <h3 class="font-display font-semibold text-white mb-4">Live Events</h3>
                            <div id="realtime-log" class="overflow-auto rounded border border-white/10 p-4 bg-black/30 h-96">
                                <div class="text-gray-500 text-center py-8">Click "Start Monitoring" to begin tracking real-time message exchanges</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="theme-footer pt-32 pb-10 px-6 border-t relative overflow-hidden transition-colors duration-300">
            <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-none select-none pointer-events-none opacity-5">
                <span class="text-[20vw] font-display font-black text-white whitespace-nowrap -ml-10">AWS MNGT</span>
            </div>

            <div class="max-w-[1400px] mx-auto relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-12">
                <div>
                    <h3 class="text-2xl font-display font-semibold text-white mb-6">Start Building</h3>
                    <p class="text-gray-400 text-sm mb-4">Manage your AWS SNS/SQS infrastructure with ease.</p>
                </div>
                
                <div class="flex gap-12 text-sm text-gray-500 font-mono tracking-wider uppercase">
                    <div class="flex flex-col gap-3">
                        <span class="text-white">Services</span>
                        <a href="#dashboard" class="hover:text-accent transition-colors">SQS</a>
                        <a href="#topics" class="hover:text-accent transition-colors">SNS</a>
                        <a href="#pipeline" class="hover:text-accent transition-colors">Pipeline</a>
                    </div>
                    <div class="flex flex-col gap-3">
                        <span class="text-white">Resources</span>
                        <a href="#realtime" class="hover:text-accent transition-colors">Monitoring</a>
                        <a href="#" onclick="openCredentialsModal()" class="hover:text-accent transition-colors">Credentials</a>
                    </div>
                </div>
            </div>
            
            <div class="max-w-[1400px] mx-auto mt-20 pt-6 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-600 font-mono uppercase">
                <span>© 2025 AWS MANAGEMENT</span>
                <span class="mt-2 md:mt-0">SYSTEM STATUS: <span class="text-green-500">NORMAL</span></span>
            </div>
        </footer>

    </main>

    <!-- React build for diagram checkboxes -->
    <script type="module" src="{{ url_for('static', filename='react/main.js') }}"></script>
    <!-- Main app JavaScript -->
    <script src="{{ url_for('static', filename='app.js') }}"></script>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // Theme management
        function getTheme() {
            return localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            updateThemeIcon();
            lucide.createIcons();
        }

        function updateThemeIcon() {
            const theme = getTheme();
            const sunIcon = document.getElementById('theme-icon-sun');
            const moonIcon = document.getElementById('theme-icon-moon');
            if (theme === 'light') {
                if (sunIcon) sunIcon.classList.remove('hidden');
                if (moonIcon) moonIcon.classList.add('hidden');
            } else {
                if (sunIcon) sunIcon.classList.add('hidden');
                if (moonIcon) moonIcon.classList.remove('hidden');
            }
        }

        function toggleTheme() {
            const currentTheme = getTheme();
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        }

        // Initialize theme on load
        setTheme(getTheme());

        // Modal functions
        function openCredentialsModal() {
            document.getElementById('credentials-modal').classList.add('active');
            lucide.createIcons();
        }

        function closeCredentialsModal() {
            document.getElementById('credentials-modal').classList.remove('active');
        }

        // Close modal on overlay click
        document.getElementById('credentials-modal').addEventListener('click', (e) => {
            if (e.target.id === 'credentials-modal') {
                closeCredentialsModal();
            }
        });

        // Console access button
        document.getElementById('console-access-btn').addEventListener('click', openCredentialsModal);

        // --- 1. SETUP LENIS & SCROLL SKEW ---
        // Wait for Lenis to be loaded
        function initLenis() {
            if (typeof Lenis === 'undefined') {
                console.warn('Lenis not loaded yet, retrying...');
                setTimeout(initLenis, 100);
                return;
            }

            const lenis = new Lenis({
                lerp: 0.1,
                smooth: true,
                direction: 'vertical',
            });
            
            let currentSkew = 0;
            function raf(time) {
                lenis.raf(time);
                
                // Interaction: Liquid Scroll Skew
                const skewTarget = lenis.velocity * 0.1; 
                currentSkew += (skewTarget - currentSkew) * 0.1;
                const clampedSkew = Math.max(Math.min(currentSkew, 5), -5);
                
                document.querySelectorAll('.skew-target').forEach(el => {
                    el.style.transform = `skewY(${clampedSkew}deg)`;
                });

                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);
        }

        // Initialize Lenis after DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLenis);
        } else {
            initLenis();
        }

        // --- 2. SPOTLIGHT INTERACTION ---
        document.addEventListener('mousemove', (e) => {
            document.querySelectorAll('.spotlight-card').forEach(card => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${x}px`);
                card.style.setProperty('--mouse-y', `${y}px`);
            });
        });

        // --- 3. TEXT SCRAMBLE INTERACTION ---
        class ScrambleText {
            constructor(el) {
                this.el = el;
                this.chars = '!<>-_\\/[]{}—=+*^?#________';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 40);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.28) {
                            char = this.randomChar();
                            this.queue[i].char = char;
                        }
                        output += `<span class="opacity-50">${char}</span>`;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
            randomChar() {
                return this.chars[Math.floor(Math.random() * this.chars.length)];
            }
        }

        const scrambleElements = document.querySelectorAll('.scramble-text');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const el = entry.target;
                    const fx = new ScrambleText(el);
                    fx.setText(el.innerText);
                    observer.unobserve(el);
                }
            });
        }, { threshold: 0.5 });
        
        scrambleElements.forEach(el => observer.observe(el));

        // --- 4. MAGNETIC BUTTONS ---
        const buttons = document.querySelectorAll('.btn-magnetic');
        buttons.forEach(btn => {
            btn.addEventListener('mousemove', (e) => {
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                gsap.to(btn, { x: x * 0.3, y: y * 0.3, duration: 0.2 });
            });
            btn.addEventListener('mouseleave', () => {
                gsap.to(btn, { x: 0, y: 0, duration: 0.2 });
            });
        });

        // --- 5. ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);

        gsap.utils.toArray('.glass-panel').forEach((panel, i) => {
            gsap.from(panel, {
                scrollTrigger: {
                    trigger: panel,
                    start: "top 90%"
                },
                y: 30,
                opacity: 0,
                duration: 0.8,
                delay: i * 0.05,
                ease: "power3.out"
            });
        });
    </script>

</body>
</html>
